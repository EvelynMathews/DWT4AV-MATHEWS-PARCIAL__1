<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Editar Producto — Barcino Atelier</title>

  <link rel="icon" type="image/x-icon" href="../favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Limelight&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../css/styles.css" rel="stylesheet">
  <link href="../css/personalized.css" rel="stylesheet">
</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-light">
    <div class="container px-4 px-lg-5">
      <a class="brand-name" href="dashboard.html">
        <img src="../assets/imgs/logo.webp" alt="Barcino Atelier">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarDash">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarDash">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
          <li class="nav-item"><a class="nav-link custom-nav-link" href="dashboard.html">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link custom-nav-link active" href="products.html">Productos</a></li>
          <li class="nav-item"><a class="nav-link custom-nav-link" href="categories.html">Categorías</a></li>
          <li class="nav-item"><a class="nav-link custom-nav-link" href="orders.html">Órdenes</a></li>
          <li class="nav-item"><a class="nav-link custom-nav-link" href="users.html">Usuarios</a></li>
        </ul>

        <!-- Sesión Admin -->
        <ul class="navbar-nav me-3">
          <li id="navUser" class="nav-item dropdown">
            <a class="nav-link dropdown-toggle custom-nav-link custom-dropdown-toggle" href="#"
              data-bs-toggle="dropdown">
              <i class="bi bi-person-circle me-1"></i> <span id="navProfileName">Administrador</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end custom-dropdown-menu">
              <li><a class="dropdown-item custom-dropdown-item" href="profile.html">Mi Perfil</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a id="btnLogout" class="dropdown-item custom-dropdown-item" href="#">Cerrar sesión</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="py-4">
    <div class="container">

      <!-- Breadcrumb -->
      <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="dashboard.html">Dashboard</a></li>
          <li class="breadcrumb-item"><a href="products.html">Productos</a></li>
          <li class="breadcrumb-item active" aria-current="page">Editar Producto</li>
        </ol>
      </nav>

      <!-- Encabezado -->
      <div class="d-flex flex-column flex-lg-row align-items-lg-center justify-content-lg-between gap-3 mb-4">
        <div>
          <h1 class="custom-h1 mb-1">Editar Collar Montjuïc</h1>
          <p class="text-muted mb-0">Modificar la información del producto</p>
        </div>
        <div class="d-flex flex-wrap gap-2">
          <a href="product-view.html" class="btn btn-light-custom btn-small">
            <i class="bi bi-eye me-1"></i>Ver producto
          </a>
          <a href="products.html" class="btn btn-light-custom btn-small">
            <i class="bi bi-arrow-left me-1"></i>Volver
          </a>
        </div>
      </div>

      <!-- Mensajes de notificación superior -->
      <div id="productEditMessage" class="mb-4"></div>

      <form id="productEditForm">
        <div class="row">
          <!-- Información principal -->
          <div class="col-lg-8">
            <div class="dashboard-card mb-4">
              <div class="dashboard-card-header">
                <h2 class="custom-h2">Información Básica</h2>
              </div>
              <div class="dashboard-card-body">
                <div class="row">
                  <div class="col-md-8 mb-3">
                    <label class="form-label">Nombre del Producto *</label>
                    <input type="text" class="form-control" value="Collar Montjuïc">
                  </div>
                  <div class="col-md-4 mb-3">
                    <label class="form-label">SKU *</label>
                    <input type="text" class="form-control" value="p06">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Categoría *</label>
                    <select class="form-select">
                      <option selected>Collares</option>
                      <option>Brazaletes</option>
                      <option>Aros</option>
                      <option>Anillos</option>
                      <option>Edición Limitada</option>
                    </select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Estado *</label>
                    <select class="form-select">
                      <option selected>Activo</option>
                      <option>Inactivo</option>
                      <option>Borrador</option>
                      <option>Agotado</option>
                    </select>
                  </div>
                  <div class="col-12 mb-3">
                    <label class="form-label">Descripción *</label>
                    <textarea class="form-control"
                      rows="4">Elegante collar que captura las vistas panorámicas de Barcelona desde Montjuïc. Diseño inspirado en la magia de la montaña de Barcelona, elaborado con materiales de alta calidad que reflejan la belleza y el misterio de este emblemático lugar.</textarea>
                  </div>
                </div>
              </div>
            </div>

            <!-- Imágenes -->
            <div class="dashboard-card mb-4">
              <div class="dashboard-card-header">
                <h2 class="custom-h2">Imágenes del Producto</h2>
              </div>
              <div class="dashboard-card-body">
                <!-- Imagen principal -->
                <div class="mb-4">
                  <h3 class="mb-3">Imagen principal</h3>
                  <div class="text-center">
                    <img src="../assets/imgs/products/necklace/necklace-montjuic.webp"
                      alt="Collar Montjuïc - Imagen principal" class="img-fluid rounded mb-2 product-edit-image">
                    <div class="d-flex justify-content-center gap-2">
                      <button type="button" class="btn btn-light-custom btn-sm" data-action="edit-image"
                        data-image="principal">
                        <i class="bi bi-pencil"></i>
                      </button>
                      <button type="button" class="btn btn-light-custom btn-sm" data-bs-toggle="modal"
                        data-bs-target="#modalDeleteImage" data-image="principal" data-image-name="imagen principal">
                        <i class="bi bi-trash3"></i>
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Otras imágenes -->
                <div class="mb-3">
                  <h3 class="mb-3">Otras Imágenes</h3>

                  <div class="row">
                    <!-- Imagen 2 -->
                    <div class="col-md-6 mb-3">
                      <div class="text-center">
                        <img src="../assets/imgs/products/necklace/product-detail1.webp"
                          alt="Collar Montjuïc - Vista detalle frontal"
                          class="img-fluid rounded mb-2 product-edit-image">
                        <div class="d-flex justify-content-center gap-2">
                          <button type="button" class="btn btn-light-custom btn-sm" data-action="edit-image"
                            data-image="adicional1">
                            <i class="bi bi-pencil"></i>
                          </button>
                          <button type="button" class="btn btn-light-custom btn-sm" data-bs-toggle="modal"
                            data-bs-target="#modalDeleteImage" data-image="adicional1"
                            data-image-name="imagen adicional 1">
                            <i class="bi bi-trash3"></i>
                          </button>
                        </div>
                      </div>
                    </div>

                    <!-- Imagen 3 -->
                    <div class="col-md-6 mb-3">
                      <div class="text-center">
                        <img src="../assets/imgs/products/necklace/product-detail2.webp"
                          alt="Collar Montjuïc - Vista lateral" class="img-fluid rounded mb-2 product-edit-image">
                        <div class="d-flex justify-content-center gap-2">
                          <button type="button" class="btn btn-light-custom btn-sm" data-action="edit-image"
                            data-image="adicional2">
                            <i class="bi bi-pencil"></i>
                          </button>
                          <button type="button" class="btn btn-light-custom btn-sm" data-bs-toggle="modal"
                            data-bs-target="#modalDeleteImage" data-image="adicional2"
                            data-image-name="imagen adicional 2">
                            <i class="bi bi-trash3"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Especificaciones técnicas -->
            <div class="dashboard-card mb-4">
              <div class="dashboard-card-header">
                <h2 class="custom-h2">Especificaciones Técnicas</h2>
              </div>
              <div class="dashboard-card-body">
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Peso (gramos)</label>
                    <input type="number" class="form-control" value="45" step="0.1">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Material Principal</label>
                    <input type="text" class="form-control" value="Plata 925">
                  </div>
                  <div class="col-md-4 mb-3">
                    <label class="form-label">Largo (cm)</label>
                    <input type="number" class="form-control" value="45" step="0.1">
                  </div>
                  <div class="col-md-4 mb-3">
                    <label class="form-label">Ancho (cm)</label>
                    <input type="number" class="form-control" value="2" step="0.1">
                  </div>
                  <div class="col-md-4 mb-3">
                    <label class="form-label">Alto (cm)</label>
                    <input type="number" class="form-control" value="0.5" step="0.1">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Acabado</label>
                    <select class="form-select">
                      <option>Seleccionar acabado...</option>
                      <option selected>Pulido brillante</option>
                      <option>Mate</option>
                      <option>Envejecido</option>
                      <option>Texturizado</option>
                    </select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Origen</label>
                    <input type="text" class="form-control" value="Artesanal, Barcelona">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Garantía (años)</label>
                    <input type="number" class="form-control" value="2" min="0" max="10">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Cuidados Especiales</label>
                    <input type="text" class="form-control" placeholder="Ej: No exponer al agua">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Sidebar -->
          <div class="col-lg-4">
            <!-- Precio e inventario -->
            <div class="dashboard-card mb-4">
              <div class="dashboard-card-header">
                <h2 class="custom-h2">Precio e Inventario</h2>
              </div>
              <div class="dashboard-card-body">
                <div class="mb-3">
                  <label class="form-label">Precio de Venta (€) *</label>
                  <input type="number" class="form-control" value="110.00" step="0.01">
                </div>
                <div class="mb-3">
                  <label class="form-label">Precio de Costo (€)</label>
                  <input type="number" class="form-control" value="45.00" step="0.01">
                </div>
                <div class="mb-3">
                  <label class="form-label">Stock Actual *</label>
                  <input type="number" class="form-control" value="7" min="0">
                </div>
                <div class="mb-3">
                  <label class="form-label">Stock Mínimo</label>
                  <input type="number" class="form-control" value="5" min="0">
                </div>
                <div class="mb-3">
                  <label class="form-label">Descuento (%)</label>
                  <input type="number" class="form-control" value="0" min="0" max="100">
                </div>
                <div class="mb-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="trackStock" checked>
                    <label class="form-check-label" for="trackStock">
                      Controlar inventario
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <!-- SEO y visibilidad -->
            <div class="dashboard-card mb-4">
              <div class="dashboard-card-header">
                <h2 class="custom-h2">SEO y Visibilidad</h2>
              </div>
              <div class="dashboard-card-body">
                <div class="mb-3">
                  <label class="form-label">Meta Título</label>
                  <input type="text" class="form-control" placeholder="Collar Mediterráneo - Joyería Artesanal">
                </div>
                <div class="mb-3">
                  <label class="form-label">Meta Descripción</label>
                  <textarea class="form-control" rows="3"
                    placeholder="Descripción para motores de búsqueda..."></textarea>
                </div>
                <div class="mb-3">
                  <label class="form-label">Palabras Clave</label>
                  <input type="text" class="form-control" placeholder="collar, plata, mediterráneo">
                  <small class="text-muted">Separar con comas</small>
                </div>
                <div class="mb-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="featured" checked>
                    <label class="form-check-label" for="featured">
                      Producto destacado
                    </label>
                  </div>
                </div>
                <div class="mb-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="visible" checked>
                    <label class="form-check-label" for="visible">
                      Visible en catálogo
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <!-- Acciones -->
            <div class="dashboard-card">
              <div class="dashboard-card-header">
                <h2 class="custom-h2">Acciones</h2>
              </div>
              <div class="dashboard-card-body">
                <div class="d-grid gap-2">
                  <button type="submit" class="custom-btn btn-primary-custom">
                    <i class="bi bi-check-lg me-1"></i>Guardar Cambios
                  </button>
                  <a href="products.html" class="btn btn-light-custom">
                    <i class="bi bi-x-lg me-1"></i>Cancelar
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>

      <!-- Modal eliminar imagen -->
      <div class="modal fade" id="modalDeleteImage" tabindex="-1" aria-labelledby="modalDeleteImageLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content card-bg">
            <div class="modal-header border-0">
              <h3 class="modal-title" id="modalDeleteImageLabel">Eliminar imagen</h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
              ¿Estás seguro de que quieres eliminar la <strong id="imageNameText">imagen</strong>? Esta acción no se
              puede deshacer.
            </div>
            <div class="modal-footer border-0">
              <button class="btn btn-light-custom" data-bs-dismiss="modal">Cancelar</button>
              <button class="custom-btn btn-secondary-custom" data-bs-dismiss="modal">Eliminar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Input file oculto para editar imágenes -->
      <input type="file" id="hiddenFileInput" accept="image/*" class="hidden-file-input">
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="py-5">
    <div class="container">
      <div class="footer-info text-center mt-4 pt-4 color-top">
        <h3>Datos Del Estudiante</h3>
        <div class="row mt-3">
          <div class="col-md-4">
            <p class="mb-0"><strong>Nombre y Apellido:</strong></p>
            <p class="mb-0">Evelyn Mathews</p>
          </div>
          <div class="col-md-4">
            <p class="mb-0"><strong>Fecha de Nacimiento:</strong></p>
            <p class="mb-0">03/10/1995</p>
          </div>
          <div class="col-md-4">
            <p class="mb-0"><strong>Correo Electrónico:</strong></p>
            <p class="mb-0">evelyn.r.mathews@gmail.com</p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/scripts.js"></script>
  <script src="../js/products.js"></script>
</body>

</html>